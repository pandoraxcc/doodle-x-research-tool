{% extends 'base.html' %}

<!-- Custom title -->
{% block title %} 
    Traceroute with location mapping 
{% endblock title %}

{% block body_data %}
{% load static %}
<div class="container" style="margin-top: 4rem; margin-bottom: 4rem;">
    <div class="row">
        <div class="main col">

            <!-- Section iwth title, description and image -->
            <div class="mt-4 mb-4">
                <h1 class="text-center">Port Scan </h1>
                <p class="pt-2 text-center">Identify open ports for the sepcified ip adress. Get the list of the vulnerable ports with the detailed description. How it works: first, the tool will verify if the host is up and after from the selected range using NMAP tool will perform the scan. If you need to scan only the single port, you may set "from port" as 0 or empty, specifying only the "end port" with the target port.</p>
                <p class="text-center">It is suggested that you use the scanner on your personal devices or network.</p>
                <img style="display:block;" class="mx-auto portscan-image" src="{% static './img/portscan/system-port-scan.png' %}" alt="" width="20%">
            </div>

            <!-- Section with 3 columns, including adress, input and submit button -->
            <form name="form-traceroute" style="margin-top: 3rem;">
                <div class="form-group">
                    <div class="row">
                        <div class="col">
                            <div class="align-middle">
                                <label style="display:block; text-align:right; padding-top: 5px;">Adress:</label>
                            </div>
                        </div>

                        <div class="col ip-addr">
                            <input id="addr" class="form-control mx-auto" type="text" placeholder="localhost or IP">
                        </div>

                        <div class="col">
                            <div class="align-middle">
                                <label style="display:block; text-align:right; padding-top: 5px;" class="" >From port:</label>
                            </div>
                        </div>

                        <div class="col from-port">
                            <input id="from-port" class="form-control mx-auto from-port" type="number" min="1">
                        </div>

                        <div class="col">
                            <div class="align-middle">
                                <label style="display:block; text-align:right; padding-top: 5px;">End port:</label>
                            </div>
                        </div>

                        <div class="col end-port">
                            <input id="end-port" class="form-control mx-auto end-port" type="number" min="1" max="65535" required>
                        </div>

                        <div class="col">
                            <button style="display:block" class="btn btn-danger mx-auto scanports" type="button">Scan ports</button>
                        </div>
                    </div>
                </div>
            </form>
            
            <!-- Here we load the status and the result of port scan -->
            <div class="row">
                <div class="portscan-results mx-auto">

                </div>
            </div>
            
        </div>
    </div>
</div>

{% endblock body_data %}

{% block custom_js %}
    <script type="module" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <script type="module" src="{% static './js-modules/portscan-processor.js' %}"></script>
{% endblock custom_js%}